#!/usr/bin/env bash
set -e

## ---------------- ##
## Define Variables ##
## ---------------- ##

## Colour Output
## -------------
color_d9534f="\033[01;31m"	# Issues/Errors
color_5cb85c="\033[01;32m"	# Success
color_f0ad4e="\033[01;33m"	# Warnings/Information
color_0275d8="\033[01;34m"	# Heading
color_revert="\033[00m"		# Normal

## Load Banner
## -----------
function showbanner()
{
	clear
	echo -e "${color_d9534f}                  _               _       _ _       ${color_revert}"
	echo -e "${color_d9534f}    __ _ _ __ ___| |__  ___ _ __ | | ___ (_) |_     ${color_revert}"
	echo -e "${color_d9534f}   / _' | '__/ __| '_ \/ __| '_ \| |/ _ \| | __|    ${color_revert}"
	echo -e "${color_d9534f}  | (_| | | | (__| | | \__ \ |_) | | (_) | | |_     ${color_revert}"
	echo -e "${color_d9534f}   \__,_|_|  \___|_| |_|___/ .__/|_|\___/|_|\__|    ${color_revert}"
	echo -e "${color_d9534f}                           |_|            v2.0.2    ${color_revert}"
	echo
	echo -e "${color_5cb85c} [i] [Package]: archsploit-installer${color_revert}"
	echo -e "${color_5cb85c} [i] [Website]: https://neoslab.com${color_revert}"
  	echo
  	sleep 1s
}

## Load Status
## -----------
loadstatus()
{
    color_d9534f=$(tput setaf 1)
    color_5cb85c=$(tput setaf 2)
    color_f0ad4e=$(tput setaf 3)
    color_0275d8=$(tput setaf 4)
    color_revert=$(tput sgr0)

    message=$1
    display="[$2]"

    if [ "$3" == "issue" ];
    then
        return="$color_d9534f${display}$color_revert"
    elif [ "$3" == "valid" ];
    then
        return="$color_5cb85c${display}$color_revert"
    elif [ "$3" == "warning" ];
    then
        return="$color_f0ad4e${display}$color_revert"
    elif [ "$3" == "info" ];
    then
        return="$color_f0ad4e${display}$color_revert"
    else
        return="$color_revert${display}$color_revert"
    fi

    let COL=$(tput cols)-${#message}+${#return}-${#display}

    echo -n $message
    printf "%${COL}s\n"  "$return"
}

## Display Usage
## -------------
function usage
{
	clear
    echo "usage: archsploit-installer [-p --package] or [-h --help]"
	echo
    echo "  -p      Package to be installed [sqlsecure|virtualbox|pentest|zaproxy]"
    echo "  -h      Display this help menu"
	echo
    exit 1
}

## Check Internet status
## ---------------------
function checkinternet()
{
	for i in {1..10};
	do
		ping -c 1 -W ${i} www.google.com &>/dev/null && break;
	done

	if [[ "$?" -ne 0 ]];
	then
		cd /tmp/
		echo
		echo -e " ${color_d9534f}[!]${color_revert} An unknown error occured ~ Possible DNS issues or no Internet connection"
		echo -e " ${color_d9534f}[!]${color_revert} Quitting ..."
		echo -e "\n"
		exit 1
	fi
}

## Display Warning
## ---------------
function warning()
{
	echo -e "${color_0275d8} ** Welcome to ArchSploit Installer Script **${color_revert}"
    echo
    echo -e "${color_d9534f} [!] This script help you to install and/or configure ArchSploit package(s)${color_revert}"
    echo -e "${color_d9534f} [!] Please DO NOT use this script if you have any doubt${color_revert}"
    echo
    read -p " [?] Do you want to continue ? [y/N] " yn
    case $yn in
        [Yy]* )
			clear
            ;;
        [Nn]* )
            exit
            ;;
        * )
            exit
            ;;
    esac
}

## Configure MySQL Secure
## ----------------------
function sqlsecure()
{
	echo
    echo -e "${color_0275d8}# Step: sqlsecure()${color_revert}"
	sleep 5

	sudo mysql_secure_installation

	## Final Notice
	## ------------
	echo
	echo -e "${color_5cb85c}ArchSploit SQL Secure configured successfully${color_revert}"
	sleep 10
}

## Configure Virtualbox
## --------------------
function virtualbox()
{
	echo
    echo -e "${color_0275d8}# Step: virtualbox()${color_revert}"
	sleep 5

	sudo modprobe vboxdrv
    echo 'vboxdrv' | sudo tee /etc/modules-load.d/virtualbox.conf >/dev/null 2>&1
    sudo usermod -aG vboxusers $USER
    loadstatus " [+] Configuring Virtualbox" "OK" "valid"

	## Final Notice
	## ------------
	echo
	echo -e "${color_5cb85c}ArchSploit Virtualbox configured successfully${color_revert}"
	sleep 10
}

## Install Zaproxy
## ---------------
function zaproxy
{
	echo
    echo -e "${color_0275d8}# Step: zaproxy()${color_revert}"
	sleep 5
	if [ ! -f "/etc/archsploit/packages/zaproxy.md" ];
	then
		wget -O "/tmp/ZAP_2_9_0_unix.sh" https://github.com/zaproxy/zaproxy/releases/download/v2.9.0/ZAP_2_9_0_unix.sh >/dev/null 2>&1
		if [ -f "/tmp/ZAP_2_9_0_unix.sh" ];
		then
		    cd /tmp/
			sudo chmod +x /tmp/ZAP_2_9_0_unix.sh
			sudo ./ZAP_2_9_0_unix.sh

			sudo cp /usr/share/archsploit-shortcuts/archsploit-zaproxy.txt /usr/share/applications/archsploit-zaproxy.desktop
			sudo rm -f /usr/share/applications/OWASP\ ZAP-0.desktop
			echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/zaproxy.md >/dev/null 2>&1
		    loadstatus " [+] Installing Zaproxy" "OK" "valid"
		else
			loadstatus " [*] Installing Zaproxy" "NO" "issue"
		fi
	else
		loadstatus " [+] Zaproxy already installed" "OK" "valid"
	fi
}

## Install Pentest Tools
## ---------------------
function pentest()
{
	echo
    echo -e "${color_0275d8}# Step: pentest()${color_revert}"
	sleep 5

	## Update Packages
	## ---------------
	sudo pacman -Syyu --noconfirm --needed >/dev/null 2>&1
	loadstatus " [+] Update System Packages" "OK" "valid"

	## Correct User Permissions
    ## ------------------------
    sudo chown -R $USER:users /opt/*
	loadstatus " [+] Correct User Permissions" "OK" "valid"

	## Airsnort
    ## https://sourceforge.net/projects/airsnort/
    ## ------------------------------------------
	if [ ! -f "/etc/archsploit/packages/airsnort.md" ];
	then
	    cd /opt/airsnort/
	    sudo ./configure >/dev/null 2>&1
	    sudo make >/dev/null 2>&1
	    sudo make install >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-airsnort.txt /usr/share/applications/archsploit-airsnort.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/airsnort.md >/dev/null 2>&1
	    loadstatus " [+] Installing Airsnort" "OK" "valid"
	else
		loadstatus " [+] Airsnort already installed" "OK" "valid"
	fi

    ## ApkTool
    ## https://code.google.com/p/android-apktool/
    ## ------------------------------------------
	if [ ! -f "/etc/archsploit/packages/apktool.md" ];
	then
	    sudo chmod +x /opt/apktool/apktool
	    sudo chmod +x /opt/apktool/apktool.jar
	    sudo ln -s /opt/apktool/apktool /usr/bin/apktool

		sudo cp /usr/share/archsploit-shortcuts/archsploit-apktool.txt /usr/share/applications/archsploit-apktool.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/apktool.md >/dev/null 2>&1
	    loadstatus " [+] Installing ApkTool" "OK" "valid"
	else
		loadstatus " [+] ApkTool already installed" "OK" "valid"
	fi

    ## Arachni
    ## http://www.arachni-scanner.com/
    ## -------------------------------
	if [ ! -f "/etc/archsploit/packages/arachni.md" ];
	then
		wget -O "/tmp/arachni-1.5.1-0.5.12-linux-x86_64.tar.gz" https://github.com/Arachni/arachni/releases/download/v1.5.1/arachni-1.5.1-0.5.12-linux-x86_64.tar.gz >/dev/null 2>&1
		if [ -f "/tmp/arachni-1.5.1-0.5.12-linux-x86_64.tar.gz" ];
		then
		    cd /tmp/
		    tar -xvf arachni-1.5.1-0.5.12-linux-x86_64.tar.gz >/dev/null 2>&1
			sudo mv /tmp/arachni-1.5.1-0.5.12 /opt/arachni
			sudo chmod +x /opt/arachni/bin/arachni*
		    sudo touch /usr/local/bin/arachni
		    sudo chmod +x /usr/local/bin/arachni
		    echo '#!/bin/bash' | sudo tee -a /usr/local/bin/arachni >/dev/null 2>&1
		    echo 'clear' | sudo tee -a /usr/local/bin/arachni >/dev/null 2>&1
		    echo 'cd /opt/arachni/bin/' | sudo tee -a /usr/local/bin/arachni >/dev/null 2>&1
		    echo 'sudo ./arachni $@' | sudo tee -a /usr/local/bin/arachni >/dev/null 2>&1

			sudo cp /usr/share/archsploit-shortcuts/archsploit-arachni.txt /usr/share/applications/archsploit-arachni.desktop
			echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/arachni.md >/dev/null 2>&1
		    loadstatus " [+] Installing Arachni" "OK" "valid"
		else
			loadstatus " [*] Installing Arachni" "NO" "issue"
		fi
	else
		loadstatus " [+] Arachni already installed" "OK" "valid"
	fi

	## Automater
    ## https://github.com/1aN0rmus/TekDefense-Automater/
    ## -------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/automater.md" ];
	then
	    sudo chmod +x /opt/automater/automater.py
	    sudo ln -s /opt/automater/automater.py /usr/bin/automater

		sudo cp /usr/share/archsploit-shortcuts/archsploit-automater.txt /usr/share/applications/archsploit-automater.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/automater.md >/dev/null 2>&1
	    loadstatus " [+] Installing Automater" "OK" "valid"
	else
		loadstatus " [+] Automater already installed" "OK" "valid"
	fi

    ## Bed
    ## http://ww5.snake-basket.de/
    ## ---------------------------
	if [ ! -f "/etc/archsploit/packages/bed.md" ];
	then
	    sudo chmod +x /opt/bed/bed.pl
	    sudo touch /usr/local/bin/bed
	    sudo chmod +x /usr/local/bin/bed
	    echo '#!/bin/bash' | sudo tee -a /usr/local/bin/bed >/dev/null 2>&1
	    echo 'clear' | sudo tee -a /usr/local/bin/bed >/dev/null 2>&1
	    echo 'cd /opt/bed/' | sudo tee -a /usr/local/bin/bed >/dev/null 2>&1
	    echo 'perl bed.pl $@' | sudo tee -a /usr/local/bin/bed >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-bed.txt /usr/share/applications/archsploit-bed.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/bed.md >/dev/null 2>&1
	    loadstatus " [+] Installing Bed" "OK" "valid"
	else
		loadstatus " [+] Bed already installed" "OK" "valid"
	fi

    ## Blackeye
    ## https://github.com/thelinuxchoice/blackeye/
    ## -------------------------------------------
	if [ ! -f "/etc/archsploit/packages/blackeye.md" ];
	then
	    sudo chmod +x /opt/blackeye/blackeye.sh
	    sudo ln -s /opt/blackeye/blackeye.sh /usr/bin/blackeye

		sudo cp /usr/share/archsploit-shortcuts/archsploit-blackeye.txt /usr/share/applications/archsploit-blackeye.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/blackeye.md >/dev/null 2>&1
		loadstatus " [+] Installing Blackeye" "OK" "valid"
	else
		loadstatus " [+] Blackeye already installed" "OK" "valid"
	fi

	## Blueranger
    ## http://www.hackfromacave.com/projects/blueranger.html
    ## -----------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/blueranger.md" ];
	then
	    sudo chmod +x /opt/blueranger/blueranger.sh
	    sudo ln -s /opt/blueranger/blueranger.sh /usr/bin/blueranger

		sudo cp /usr/share/archsploit-shortcuts/archsploit-blueranger.txt /usr/share/applications/archsploit-blueranger.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/blueranger.md >/dev/null 2>&1
		loadstatus " [+] Installing Blueranger" "OK" "valid"
	else
		loadstatus " [+] Blueranger already installed" "OK" "valid"
	fi

	## BurpSuite
    ## https://portswigger.net/DownloadUpdate.ashx?Product=Free
    ## --------------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/burpsuite.md" ];
	then
		wget -O "/tmp/burpsuite.jar" https://portswigger.net/DownloadUpdate.ashx?Product=Free >/dev/null 2>&1
		if [ -f "/tmp/burpsuite.jar" ];
		then
		    sudo mkdir -p /opt/burpsuite/
			sudo mv /tmp/burpsuite.jar /opt/burpsuite/
			sudo chmod +x /opt/burpsuite/burpsuite.jar
		    sudo touch /usr/local/bin/burpsuite
		    sudo chmod +x /usr/local/bin/burpsuite
		    echo '#!/bin/bash' | sudo tee -a /usr/local/bin/burpsuite >/dev/null 2>&1
		    echo 'clear' | sudo tee -a /usr/local/bin/burpsuite >/dev/null 2>&1
		    echo 'cd /opt/burpsuite/' | sudo tee -a /usr/local/bin/burpsuite >/dev/null 2>&1
		    echo 'sudo /usr/bin/java -jar /opt/burpsuite/burpsuite.jar' | sudo tee -a /usr/local/bin/burpsuite >/dev/null 2>&1

			sudo cp /usr/share/archsploit-shortcuts/archsploit-burpsuite.txt /usr/share/applications/archsploit-burpsuite.desktop
			echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/burpsuite.md >/dev/null 2>&1
			loadstatus " [+] Installing BurpSuite" "OK" "valid"
		else
			loadstatus " [*] Installing BurpSuite" "NO" "issue"
		fi
	else
		loadstatus " [+] BurpSuite already installed" "OK" "valid"
	fi

	## CheckURLs
    ## https://neoslab.com/
    ## --------------------
	if [ ! -f "/etc/archsploit/packages/checkurls.md" ];
	then
	    sudo chmod +x /opt/checkurls/checkurls.py
	    sudo ln -s /opt/checkurls/checkurls.py /usr/bin/checkurls

		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/checkurls.md >/dev/null 2>&1
		loadstatus " [+] Installing CheckURLs" "OK" "valid"
	else
		loadstatus " [+] CheckURLs already installed" "OK" "valid"
	fi

	## CMSMap
    ## https://github.com/Dionach/CMSmap/
    ## ----------------------------------
	if [ ! -f "/etc/archsploit/packages/cmsmap.md" ];
	then
	    sudo chmod +x /opt/cmsmap/cmsmap.py
	    sudo ln -s /opt/cmsmap/cmsmap.py /usr/bin/cmsmap

		sudo cp /usr/share/archsploit-shortcuts/archsploit-cmsmap.txt /usr/share/applications/archsploit-cmsmap.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/cmsmap.md >/dev/null 2>&1
		loadstatus " [+] Installing CMSMap" "OK" "valid"
	else
		loadstatus " [+] CMSMap already installed" "OK" "valid"
	fi

	## ColdWar
    ## https://github.com/ChrisTruncer/PenTestScripts/
    ## -----------------------------------------------
	if [ ! -f "/etc/archsploit/packages/coldwar.md" ];
	then
	    sudo chmod +x /opt/coldwar/coldwar.py
	    sudo ln -s /opt/coldwar/coldwar.py /usr/bin/coldwar

		sudo cp /usr/share/archsploit-shortcuts/archsploit-coldwar.txt /usr/share/applications/archsploit-coldwar.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/coldwar.md >/dev/null 2>&1
		loadstatus " [+] Installing ColdWar" "OK" "valid"
	else
		loadstatus " [+] ColdWar already installed" "OK" "valid"
	fi

	## Commix
    ## https://github.com/commixproject/commix/
    ## ----------------------------------------
	if [ ! -f "/etc/archsploit/packages/commix.md" ];
	then
	    sudo chmod +x /opt/commix/commix.py
	    sudo touch /usr/local/bin/commix
	    sudo chmod +x /usr/local/bin/commix
	    echo '#!/bin/bash' | sudo tee -a /usr/local/bin/commix >/dev/null 2>&1
	    echo 'clear' | sudo tee -a /usr/local/bin/commix >/dev/null 2>&1
	    echo 'cd /opt/commix/' | sudo tee -a /usr/local/bin/commix >/dev/null 2>&1
	    echo 'sudo python commix.py $@' | sudo tee -a /usr/local/bin/commix >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-commix.txt /usr/share/applications/archsploit-commix.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/commix.md >/dev/null 2>&1
		loadstatus " [+] Installing Commix" "OK" "valid"
	else
		loadstatus " [+] Commix already installed" "OK" "valid"
	fi

    ## Crackle
    ## https://github.com/mikeryan/crackle/
    ## ------------------------------------
	if [ ! -f "/etc/archsploit/packages/crackle.md" ];
	then
		cd /opt/crackle/
		sudo make >/dev/null 2>&1
		sudo make install >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-crackle.txt /usr/share/applications/archsploit-crackle.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/crackle.md >/dev/null 2>&1
		loadstatus " [+] Installing Crackle" "OK" "valid"
	else
		loadstatus " [+] Crackle already installed" "OK" "valid"
	fi

	## CredCrack
    ## https://github.com/gojhonny/CredCrack/
    ## --------------------------------------
	if [ ! -f "/etc/archsploit/packages/credcrack.md" ];
	then
	    sudo chmod +x /opt/credcrack/credcrack.py
	    sudo ln -s /opt/credcrack/credcrack.py /usr/bin/credcrack

		sudo cp /usr/share/archsploit-shortcuts/archsploit-credcrack.txt /usr/share/applications/archsploit-credcrack.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/credcrack.md >/dev/null 2>&1
		loadstatus " [+] Installing CredCrack" "OK" "valid"
	else
		loadstatus " [+] CredCrack already installed" "OK" "valid"
	fi

	## CredSniper
    ## https://github.com/ustayready/CredSniper/
    ## -----------------------------------------
	if [ ! -f "/etc/archsploit/packages/credsniper.md" ];
	then
	    sudo chmod +x /opt/credsniper/credsniper.py
	    sudo touch /usr/local/bin/credsniper
	    sudo chmod +x /usr/local/bin/credsniper
	    echo '#!/bin/bash' | sudo tee -a /usr/local/bin/credsniper >/dev/null 2>&1
	    echo 'clear' | sudo tee -a /usr/local/bin/credsniper >/dev/null 2>&1
	    echo 'cd /opt/credsniper/' | sudo tee -a /usr/local/bin/credsniper >/dev/null 2>&1
	    echo 'sudo python credsniper.py $@' | sudo tee -a /usr/local/bin/credsniper >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-credsniper.txt /usr/share/applications/archsploit-credsniper.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/credsniper.md >/dev/null 2>&1
		loadstatus " [+] Installing CredSniper" "OK" "valid"
	else
		loadstatus " [+] CredSniper already installed" "OK" "valid"
	fi

	## Cymothoa
    ## http://sourceforge.net/projects/cymothoa/
    ## -----------------------------------------
	if [ ! -f "/etc/archsploit/packages/cymothoa.md" ];
	then
		cd /opt/cymothoa/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/cymothoa/bgrep /usr/bin/bgrep
		sudo ln -s /opt/cymothoa/cymothoa /usr/bin/cymothoa

		sudo cp /usr/share/archsploit-shortcuts/archsploit-cymothoa.txt /usr/share/applications/archsploit-cymothoa.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/cymothoa.md >/dev/null 2>&1
		loadstatus " [+] Installing Cymothoa" "OK" "valid"
	else
		loadstatus " [+] Cymothoa already installed" "OK" "valid"
	fi

	## Ddrescue
    ## http://www.garloff.de/kurt/linux/ddrescue/
    ## ------------------------------------------
	if [ ! -f "/etc/archsploit/packages/ddrescue.md" ];
	then
		cd /opt/ddrescue/
		sudo make >/dev/null 2>&1
		sudo mv /opt/ddrescue/dd_rescue /opt/ddrescue/ddrescue
		sudo ln -s /opt/ddrescue/ddrescue /usr/bin/ddrescue

		sudo cp /usr/share/archsploit-shortcuts/archsploit-ddrescue.txt /usr/share/applications/archsploit-ddrescue.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/ddrescue.md >/dev/null 2>&1
		loadstatus " [+] Installing Ddrescue" "OK" "valid"
	else
		loadstatus " [+] Ddrescue already installed" "OK" "valid"
	fi

	## Dedsploit
    ## https://github.com/ex0dus-0x/dedsploit/
    ## ---------------------------------------
	if [ ! -f "/etc/archsploit/packages/dedsploit.md" ];
	then
	    sudo chmod +x /opt/dedsploit/dedsploit.py
	    sudo ln -s /opt/dedsploit/dedsploit.py /usr/bin/dedsploit

		sudo cp /usr/share/archsploit-shortcuts/archsploit-dedsploit.txt /usr/share/applications/archsploit-dedsploit.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/dedsploit.md >/dev/null 2>&1
		loadstatus " [+] Installing Dedsploit" "OK" "valid"
	else
		loadstatus " [+] Dedsploit already installed" "OK" "valid"
	fi

	## Dex2jar
	## https://bitbucket.org/pxb1988/Dex2jar
	## -------------------------------------
	if [ ! -f "/etc/archsploit/packages/dex2jar.md" ];
	then
		sudo chmod +x /opt/dex2jar/*.sh
		sudo ln -s /opt/dex2jar/d2j-dex2jar.sh /usr/bin/dex2jar

		sudo cp /usr/share/archsploit-shortcuts/archsploit-dex2jar.txt /usr/share/applications/archsploit-dex2jar.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/dex2jar.md >/dev/null 2>&1
		loadstatus " [+] Installing Dex2jar" "OK" "valid"
	else
		loadstatus " [+] Dex2jar already installed" "OK" "valid"
	fi

	## DirBuster
	## https://sourceforge.net/projects/dirbuster/
	## -------------------------------------------
	if [ ! -f "/etc/archsploit/packages/dirbuster.md" ];
	then
		sudo chmod +x /opt/dirbuster/dirbuster.jar
		sudo touch /usr/local/bin/dirbuster
		sudo chmod +x /usr/local/bin/dirbuster
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/dirbuster >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/dirbuster >/dev/null 2>&1
		echo 'cd /opt/dirbuster/' | sudo tee -a /usr/local/bin/dirbuster >/dev/null 2>&1
		echo 'sudo /usr/bin/java -jar /opt/dirbuster/dirbuster.jar' | sudo tee -a /usr/local/bin/dirbuster >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-dirbuster.txt /usr/share/applications/archsploit-dirbuster.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/dirbuster.md >/dev/null 2>&1
		loadstatus " [+] Installing DirBuster" "OK" "valid"
	else
		loadstatus " [+] DirBuster already installed" "OK" "valid"
	fi

	## DNSMap
	## https://code.google.com/archive/p/dnsmap/
	## -----------------------------------------
	if [ ! -f "/etc/archsploit/packages/dnsmap.md" ];
	then
		cd /opt/dnsmap/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/dnsmap/dnsmap /usr/bin/dnsmap
		sudo ln -s /opt/dnsmap/dnsmap-bulk.sh /usr/bin/dnsmap-bulk

		sudo cp /usr/share/archsploit-shortcuts/archsploit-dnsmap.txt /usr/share/applications/archsploit-dnsmap.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/dnsmap.md >/dev/null 2>&1
		loadstatus " [+] Installing DNSMap" "OK" "valid"
	else
		loadstatus " [+] DNSMap already installed" "OK" "valid"
	fi

	## Dracnmap
	## https://github.com/Screetsec/Dracnmap/
	## --------------------------------------
	if [ ! -f "/etc/archsploit/packages/dracnmap.md" ];
	then
		sudo chmod +x /opt/dracnmap/dracnmap.sh
		sudo ln -s /opt/dracnmap/dracnmap.sh /usr/bin/dracnmap

		sudo cp /usr/share/archsploit-shortcuts/archsploit-dracnmap.txt /usr/share/applications/archsploit-dracnmap.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/dracnmap.md >/dev/null 2>&1
		loadstatus " [+] Installing Dracnmap" "OK" "valid"
	else
		loadstatus " [+] Dracnmap already installed" "OK" "valid"
	fi

	## Dumpzilla
	## https://www.dumpzilla.org/
	## --------------------------
	if [ ! -f "/etc/archsploit/packages/dumpzilla.md" ];
	then
		sudo chmod +x /opt/dumpzilla/dumpzilla.py
		sudo ln -s /opt/dumpzilla/dumpzilla.py /usr/bin/dumpzilla

		sudo cp /usr/share/archsploit-shortcuts/archsploit-dumpzilla.txt /usr/share/applications/archsploit-dumpzilla.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/dumpzilla.md >/dev/null 2>&1
		loadstatus " [+] Installing Dumpzilla" "OK" "valid"
	else
		loadstatus " [+] Dumpzilla already installed" "OK" "valid"
	fi

	## EapMd5pass
	## http://www.willhackforsushi.com/
	## --------------------------------
	if [ ! -f "/etc/archsploit/packages/eapmd5pass.md" ];
	then
		cd /opt/eapmd5pass/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/eapmd5pass/eapmd5pass /usr/bin/eapmd5pass

		sudo cp /usr/share/archsploit-shortcuts/archsploit-eapmd5pass.txt /usr/share/applications/archsploit-eapmd5pass.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/eapmd5pass.md >/dev/null 2>&1
		loadstatus " [+] Installing EapMd5pass" "OK" "valid"
	else
		loadstatus " [+] EapMd5pass already installed" "OK" "valid"
	fi

	## Enum4Linux
	## https://labs.portcullis.co.uk/tools/enum4linux/
	## -----------------------------------------------
	if [ ! -f "/etc/archsploit/packages/enum4linux.md" ];
	then
		sudo chmod +x /opt/enum4linux/enum4linux.pl
		sudo ln -s /opt/enum4linux/enum4linux.pl /usr/bin/enum4linux

		sudo cp /usr/share/archsploit-shortcuts/archsploit-enum4linux.txt /usr/share/applications/archsploit-enum4linux.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/enum4linux.md >/dev/null 2>&1
		loadstatus " [+] Installing Enum4Linux" "OK" "valid"
	else
		loadstatus " [+] Enum4Linux already installed" "OK" "valid"
	fi

	## Enumiax
	## https://sourceforge.net/projects/enumiax/
	## -----------------------------------------
	if [ ! -f "/etc/archsploit/packages/enumiax.md" ];
	then
		cd /opt/enumiax/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/enumiax/enumiax /usr/bin/enumiax

		sudo cp /usr/share/archsploit-shortcuts/archsploit-enumiax.txt /usr/share/applications/archsploit-enumiax.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/enumiax.md >/dev/null 2>&1
		loadstatus " [+] Installing Enumiax" "OK" "valid"
	else
		loadstatus " [+] Enumiax already installed" "OK" "valid"
	fi

	## Findmyhash
	## https://code.google.com/archive/p/findmyhash/
	## ---------------------------------------------
	if [ ! -f "/etc/archsploit/packages/findmyhash.md" ];
	then
		sudo chmod +x /opt/findmyhash/findmyhash.py
		sudo ln -s /opt/findmyhash/findmyhash.py /usr/bin/findmyhash

		sudo cp /usr/share/archsploit-shortcuts/archsploit-findmyhash.txt /usr/share/applications/archsploit-findmyhash.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/findmyhash.md >/dev/null 2>&1
		loadstatus " [+] Installing Findmyhash" "OK" "valid"
	else
		loadstatus " [+] Findmyhash already installed" "OK" "valid"
	fi

	## Hammer
	## https://github.com/cyweb/hammer/
	## --------------------------------
	if [ ! -f "/etc/archsploit/packages/hammer.md" ];
	then
		sudo chmod +x /opt/hammer/hammer.py
		sudo ln -s /opt/hammer/hammer.py /usr/bin/hammer

		sudo cp /usr/share/archsploit-shortcuts/archsploit-hammer.txt /usr/share/applications/archsploit-hammer.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/hammer.md >/dev/null 2>&1
		loadstatus " [+] Installing Hammer" "OK" "valid"
	else
		loadstatus " [+] Hammer already installed" "OK" "valid"
	fi

	## HashID
	## http://code.google.com/p/hash-identifier/
	## -----------------------------------------
	if [ ! -f "/etc/archsploit/packages/hashid.md" ];
	then
		sudo chmod +x /opt/hashid/hashid.py
		sudo ln -s /opt/hashid/hashid.py /usr/bin/hashid

		sudo cp /usr/share/archsploit-shortcuts/archsploit-hashid.txt /usr/share/applications/archsploit-hashid.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/hashid.md >/dev/null 2>&1
		loadstatus " [+] Installing HashID" "OK" "valid"
	else
		loadstatus " [+] HashID already installed" "OK" "valid"
	fi

	## HashTag
	## https://github.com/SmeegeSec/HashTag/
	## -------------------------------------
	if [ ! -f "/etc/archsploit/packages/hashtag.md" ];
	then
		sudo chmod +x /opt/hashtag/hashtag.py
		sudo ln -s /opt/hashtag/hashtag.py /usr/bin/hashtag

		sudo cp /usr/share/archsploit-shortcuts/archsploit-hashtag.txt /usr/share/applications/archsploit-hashtag.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/hashtag.md >/dev/null 2>&1
		loadstatus " [+] Installing HashTag" "OK" "valid"
	else
		loadstatus " [+] HashTag already installed" "OK" "valid"
	fi

	## Iaxflood
	## http://www.hackingexposedvoip.com/sec_tools.html
	## ------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/iaxflood.md" ];
	then
		cd /opt/iaxflood/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/iaxflood/iaxflood /usr/bin/iaxflood

		sudo cp /usr/share/archsploit-shortcuts/archsploit-iaxflood.txt /usr/share/applications/archsploit-iaxflood.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/iaxflood.md >/dev/null 2>&1
		loadstatus " [+] Installing Iaxflood" "OK" "valid"
	else
		loadstatus " [+] Iaxflood already installed" "OK" "valid"
	fi

	## Javasnoop
	## https://code.google.com/archive/p/javasnoop/
	## --------------------------------------------
	if [ ! -f "/etc/archsploit/packages/javasnoop.md" ];
	then
		sudo chmod +x /opt/javasnoop/javasnoop.jar
		sudo touch /usr/local/bin/javasnoop
		sudo chmod +x /usr/local/bin/javasnoop
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/javasnoop >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/javasnoop >/dev/null 2>&1
		echo 'sudo /usr/bin/java -jar /opt/javasnoop/javasnoop.jar' | sudo tee -a /usr/local/bin/javasnoop >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-javasnoop.txt /usr/share/applications/archsploit-javasnoop.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/javasnoop.md >/dev/null 2>&1
		loadstatus " [+] Installing Javasnoop" "OK" "valid"
	else
		loadstatus " [+] Javasnoop already installed" "OK" "valid"
	fi

	## Jexboss
	## https://github.com/joaomatosf/jexboss/
	## --------------------------------------
	if [ ! -f "/etc/archsploit/packages/jexboss.md" ];
	then
		sudo chmod +x /opt/jexboss/jexboss.py
		sudo touch /usr/local/bin/jexboss
		sudo chmod +x /usr/local/bin/jexboss
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/jexboss >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/jexboss >/dev/null 2>&1
		echo 'cd /opt/jexboss/' | sudo tee -a /usr/local/bin/jexboss >/dev/null 2>&1
		echo 'sudo python jexboss.py $@' | sudo tee -a /usr/local/bin/jexboss >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-jexboss.txt /usr/share/applications/archsploit-jexboss.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/jexboss.md >/dev/null 2>&1
		loadstatus " [+] Installing Jexboss" "OK" "valid"
	else
		loadstatus " [+] Jexboss already installed" "OK" "valid"
	fi

	## Joomscan
	## https://github.com/rezasp/joomscan/
	## -----------------------------------
	if [ ! -f "/etc/archsploit/packages/joomscan.md" ];
	then
		sudo chmod +x /opt/joomscan/joomscan.pl
		sudo ln -s /opt/joomscan/joomscan.pl /usr/bin/joomscan

		sudo cp /usr/share/archsploit-shortcuts/archsploit-joomscan.txt /usr/share/applications/archsploit-joomscan.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/joomscan.md >/dev/null 2>&1
		loadstatus " [+] Installing Joomscan" "OK" "valid"
	else
		loadstatus " [+] Joomscan already installed" "OK" "valid"
	fi

	## JSQL-Injection
	## https://github.com/ron190/jsql-injection/
	## -----------------------------------------
	if [ ! -f "/etc/archsploit/packages/jsql-injection.md" ];
	then
		sudo chmod +x /opt/jsql-injection/jsql-injection.jar
		sudo touch /usr/local/bin/jsql-injection
		sudo chmod +x /usr/local/bin/jsql-injection
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/jsql-injection >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/jsql-injection >/dev/null 2>&1
		echo 'sudo /usr/bin/java -jar /opt/jsql-injection/jsql-injection.jar' | sudo tee -a /usr/local/bin/jsql-injection >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-jsql-injection.txt /usr/share/applications/archsploit-jsql-injection.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/jsql-injection.md >/dev/null 2>&1
		loadstatus " [+] Installing JSQL-Injection" "OK" "valid"
	else
		loadstatus " [+] JSQL-Injection already installed" "OK" "valid"
	fi

	## Libenom
	## https://github.com/bounteous/libenom/
	## -------------------------------------
	if [ ! -f "/etc/archsploit/packages/libenom.md" ];
	then
		sudo chmod +x /opt/libenom/libenom.py
		sudo ln -s /opt/libenom/libenom.py /usr/bin/libenom

		sudo cp /usr/share/archsploit-shortcuts/archsploit-libenom.txt /usr/share/applications/archsploit-libenom.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/libenom.md >/dev/null 2>&1
		loadstatus " [+] Installing Libenom" "OK" "valid"
	else
		loadstatus " [+] Libenom already installed" "OK" "valid"
	fi

	## LinEnum
	## https://github.com/rebootuser/LinEnum/
	## --------------------------------------
	if [ ! -f "/etc/archsploit/packages/linenum.md" ];
	then
		sudo chmod +x /opt/linenum/linenum.sh
		sudo ln -s /opt/linenum/linenum.sh /usr/bin/linenum

		sudo cp /usr/share/archsploit-shortcuts/archsploit-linenum.txt /usr/share/applications/archsploit-linenum.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/linenum.md >/dev/null 2>&1
		loadstatus " [+] Installing LinEnum" "OK" "valid"
	else
		loadstatus " [+] LinEnum already installed" "OK" "valid"
	fi

	## MagicTree
	## https://www.gremwell.com/
	## -------------------------
	if [ ! -f "/etc/archsploit/packages/magictree.md" ];
	then
		sudo chmod +x /opt/magictree/magictree.jar
		sudo touch /usr/local/bin/magictree
		sudo chmod +x /usr/local/bin/magictree
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/magictree >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/magictree >/dev/null 2>&1
		echo 'sudo /usr/bin/java -jar /opt/magictree/magictree.jar' | sudo tee -a /usr/local/bin/magictree >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-magictree.txt /usr/share/applications/archsploit-magictree.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/magictree.md >/dev/null 2>&1
		loadstatus " [+] Installing MagicTree" "OK" "valid"
	else
		loadstatus " [+] MagicTree already installed" "OK" "valid"
	fi

	## Metagoofil
	## https://code.google.com/archive/p/metagoofil/
	## ---------------------------------------------
	if [ ! -f "/etc/archsploit/packages/metagoofil.md" ];
	then
		sudo chmod +x /opt/metagoofil/metagoofil.py
		sudo ln -s /opt/metagoofil/metagoofil.py /usr/bin/metagoofil

		sudo cp /usr/share/archsploit-shortcuts/archsploit-metagoofil.txt /usr/share/applications/archsploit-metagoofil.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/metagoofil.md >/dev/null 2>&1
		loadstatus " [+] Installing Metagoofil" "OK" "valid"
	else
		loadstatus " [+] Metagoofil already installed" "OK" "valid"
	fi

	## MITM-Dump
	## https://mitmproxy.org/
	## ----------------------
	if [ ! -f "/etc/archsploit/packages/mitmdump.md" ];
	then
		sudo chmod +x /opt/mitmdump/mitmdump
		sudo ln -s /opt/mitmdump/mitmdump /usr/bin/mitmdump

		sudo cp /usr/share/archsploit-shortcuts/archsploit-mitmdump.txt /usr/share/applications/archsploit-mitmdump.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/mitmdump.md >/dev/null 2>&1
		loadstatus " [+] Installing MITM-Dump" "OK" "valid"
	else
		loadstatus " [+] MITM-Dump already installed" "OK" "valid"
	fi

	## MITM-Proxy
	## https://mitmproxy.org/
	## ----------------------
	if [ ! -f "/etc/archsploit/packages/mitmproxy.md" ];
	then
		sudo chmod +x /opt/mitmproxy/mitmproxy
		sudo ln -s /opt/mitmproxy/mitmproxy /usr/bin/mitmproxy

		sudo cp /usr/share/archsploit-shortcuts/archsploit-mitmproxy.txt /usr/share/applications/archsploit-mitmproxy.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/mitmproxy.md >/dev/null 2>&1
		loadstatus " [+] Installing MITM-Proxy" "OK" "valid"
	else
		loadstatus " [+] MITM-Proxy already installed" "OK" "valid"
	fi

	## MITM-Web
	## https://mitmproxy.org/
	## ----------------------
	if [ ! -f "/etc/archsploit/packages/mitmweb.md" ];
	then
		sudo chmod +x /opt/mitmweb/mitmweb
		sudo ln -s /opt/mitmweb/mitmweb /usr/bin/mitmweb

		sudo cp /usr/share/archsploit-shortcuts/archsploit-mitmweb.txt /usr/share/applications/archsploit-mitmweb.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/mitmweb.md >/dev/null 2>&1
		loadstatus " [+] Installing MITM-Web" "OK" "valid"
	else
		loadstatus " [+] MITM-Web already installed" "OK" "valid"
	fi

	## Nikto
	## https://github.com/sullo/nikto/
	## -------------------------------
	if [ ! -f "/etc/archsploit/packages/nikto.md" ];
	then
		sudo chmod +x /opt/nikto/program/nikto.pl
		sudo touch /usr/local/bin/nikto
		sudo chmod +x /usr/local/bin/nikto
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/nikto >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/nikto >/dev/null 2>&1
		echo 'cd /opt/nikto/program/' | sudo tee -a /usr/local/bin/nikto >/dev/null 2>&1
		echo 'sudo ./nikto.pl $@' | sudo tee -a /usr/local/bin/nikto >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-nikto.txt /usr/share/applications/archsploit-nikto.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/nikto.md >/dev/null 2>&1
		loadstatus " [+] Installing Nikto" "OK" "valid"
	else
		loadstatus " [+] Nikto already installed" "OK" "valid"
	fi

	## Nishang
	## https://github.com/samratashok/nishang/
	## ---------------------------------------
	if [ ! -f "/etc/archsploit/packages/nishang.md" ];
	then
		sudo touch /usr/local/bin/nishang
		sudo chmod +x /usr/local/bin/nishang
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/nishang >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/nishang >/dev/null 2>&1
		echo 'tree /opt/nishang/' | sudo tee -a /usr/local/bin/nishang >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-nishang.txt /usr/share/applications/archsploit-nishang.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/nishang.md >/dev/null 2>&1
		loadstatus " [+] Installing Nishang" "OK" "valid"
	else
		loadstatus " [+] Nishang already installed" "OK" "valid"
	fi

	## Nullinux
	## https://github.com/m8r0wn/nullinux/
	## -----------------------------------
	if [ ! -f "/etc/archsploit/packages/nullinux.md" ];
	then
		sudo chmod +x /opt/nullinux/nullinux.py
		sudo ln -s /opt/nullinux/nullinux.py /usr/bin/nullinux

		sudo cp /usr/share/archsploit-shortcuts/archsploit-nullinux.txt /usr/share/applications/archsploit-nullinux.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/nullinux.md >/dev/null 2>&1
		loadstatus " [+] Installing Nullinux" "OK" "valid"
	else
		loadstatus " [+] Nullinux already installed" "OK" "valid"
	fi

	## Oscanner
	## http://www.cqure.net/wp/tools/database/oscanner/
	## ------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/oscanner.md" ];
	then
		sudo chmod +x /opt/oscanner/oscanner.sh
		sudo touch /usr/local/bin/oscanner
		sudo chmod +x /usr/local/bin/oscanner
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/oscanner >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/oscanner >/dev/null 2>&1
		echo 'cd /opt/oscanner/' | sudo tee -a /usr/local/bin/oscanner >/dev/null 2>&1
		echo './oscanner.sh $@' | sudo tee -a /usr/local/bin/oscanner >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-oscanner.txt /usr/share/applications/archsploit-oscanner.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/oscanner.md >/dev/null 2>&1
		loadstatus " [+] Installing Oscanner" "OK" "valid"
	else
		loadstatus " [+] Oscanner already installed" "OK" "valid"
	fi

	## Pdf-Parser
	## https://blog.didierstevens.com/programs/pdf-parser/
	## ---------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/pdf-parser.md" ];
	then
		sudo chmod +x /opt/pdf-parser/pdf-parser.py
		sudo ln -s /opt/pdf-parser/pdf-parser.py /usr/bin/pdf-parser

		sudo cp /usr/share/archsploit-shortcuts/archsploit-pdf-parser.txt /usr/share/applications/archsploit-pdf-parser.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/pdf-parser.md >/dev/null 2>&1
		loadstatus " [+] Installing Pdf-Parser" "OK" "valid"
	else
		loadstatus " [+] Pdf-Parser already installed" "OK" "valid"
	fi

	## PocSuite3
	## https://github.com/knownsec/pocsuite3/
	## --------------------------------------
	if [ ! -f "/etc/archsploit/packages/pocsuite3.md" ];
	then
		sudo pip3 install pocsuite3 >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-pocsuite.txt /usr/share/applications/archsploit-pocsuite.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/pocsuite3.md >/dev/null 2>&1
		loadstatus " [+] Installing PocSuite3" "OK" "valid"
	else
		loadstatus " [+] PocSuite3 already installed" "OK" "valid"
	fi

	## PowerSploit
	## https://github.com/PowerShellMafia/PowerSploit/
	## -----------------------------------------------
	if [ ! -f "/etc/archsploit/packages/powersploit.md" ];
	then
		sudo touch /usr/local/bin/powersploit
		sudo chmod +x /usr/local/bin/powersploit
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/powersploit >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/powersploit >/dev/null 2>&1
		echo 'tree /opt/powersploit/' | sudo tee -a /usr/local/bin/powersploit >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-powersploit.txt /usr/share/applications/archsploit-powersploit.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/powersploit.md >/dev/null 2>&1
		loadstatus " [+] Installing PowerSploit" "OK" "valid"
	else
		loadstatus " [+] PowerSploit already installed" "OK" "valid"
	fi

	## Pwnat
	## https://samy.pl/pwnat/
	## ----------------------
	if [ ! -f "/etc/archsploit/packages/pwnat.md" ];
	then
		cd /opt/pwnat/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/pwnat/pwnat /usr/bin/pwnat

		sudo cp /usr/share/archsploit-shortcuts/archsploit-pwnat.txt /usr/share/applications/archsploit-pwnat.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/pwnat.md >/dev/null 2>&1
		loadstatus " [+] Installing Pwnat" "OK" "valid"
	else
		loadstatus " [+] Pwnat already installed" "OK" "valid"
	fi

	## Rainbowcrack
	## https://project-rainbowcrack.com/
	## ---------------------------------
	if [ ! -f "/etc/archsploit/packages/rainbowcrack.md" ];
	then
		sudo chmod +x /opt/rainbowcrack/rcrack
		sudo chmod +x /opt/rainbowcrack/rt2rtc
		sudo chmod +x /opt/rainbowcrack/rtc2rt
		sudo chmod +x /opt/rainbowcrack/rtgen
		sudo chmod +x /opt/rainbowcrack/rtmerge
		sudo chmod +x /opt/rainbowcrack/rtsort
		sudo touch /usr/local/bin/rcrack
		sudo chmod +x /usr/local/bin/rcrack
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/rcrack >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/rcrack >/dev/null 2>&1
		echo 'cd /opt/rainbowcrack/' | sudo tee -a /usr/local/bin/rcrack >/dev/null 2>&1
		echo './rcrack' | sudo tee -a /usr/local/bin/rcrack >/dev/null 2>&1
		sudo touch /usr/local/bin/rt2rtc
		sudo chmod +x /usr/local/bin/rt2rtc
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/rt2rtc >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/rt2rtc >/dev/null 2>&1
		echo 'cd /opt/rainbowcrack/' | sudo tee -a /usr/local/bin/rt2rtc >/dev/null 2>&1
		echo './rt2rtc' | sudo tee -a /usr/local/bin/rt2rtc >/dev/null 2>&1
		sudo touch /usr/local/bin/rtc2rt
		sudo chmod +x /usr/local/bin/rtc2rt
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/rtc2rt >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/rtc2rt >/dev/null 2>&1
		echo 'cd /opt/rainbowcrack/' | sudo tee -a /usr/local/bin/rtc2rt >/dev/null 2>&1
		echo './rtc2rt' | sudo tee -a /usr/local/bin/rtc2rt >/dev/null 2>&1
		sudo touch /usr/local/bin/rtgen
		sudo chmod +x /usr/local/bin/rtgen
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/rtgen >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/rtgen >/dev/null 2>&1
		echo 'cd /opt/rainbowcrack/' | sudo tee -a /usr/local/bin/rtgen >/dev/null 2>&1
		echo './rtgen' | sudo tee -a /usr/local/bin/rtgen >/dev/null 2>&1
		sudo touch /usr/local/bin/rtmerge
		sudo chmod +x /usr/local/bin/rtmerge
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/rtmerge >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/rtmerge >/dev/null 2>&1
		echo 'cd /opt/rainbowcrack/' | sudo tee -a /usr/local/bin/rtmerge >/dev/null 2>&1
		echo './rtmerge' | sudo tee -a /usr/local/bin/rtmerge >/dev/null 2>&1
		sudo touch /usr/local/bin/rtsort
		sudo chmod +x /usr/local/bin/rtsort
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/rtsort >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/rtsort >/dev/null 2>&1
		echo 'cd /opt/rainbowcrack/' | sudo tee -a /usr/local/bin/rtsort >/dev/null 2>&1
		echo './rtsort' | sudo tee -a /usr/local/bin/rtsort >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-rcrack.txt /usr/share/applications/archsploit-rcrack.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/rainbowcrack.md >/dev/null 2>&1
		loadstatus " [+] Installing Rainbowcrack" "OK" "valid"
	else
		loadstatus " [+] Rainbowcrack already installed" "OK" "valid"
	fi

	## Routersploit
	## https://github.com/threat9/routersploit/
	## ----------------------------------------
	if [ ! -f "/etc/archsploit/packages/routersploit.md" ];
	then
		cd /opt/routersploit/
		sudo chmod +x /opt/routersploit/rsf.py
		sudo touch /usr/local/bin/routersploit
		sudo chmod +x /usr/local/bin/routersploit
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/routersploit >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/routersploit >/dev/null 2>&1
		echo 'cd /opt/routersploit/' | sudo tee -a /usr/local/bin/routersploit >/dev/null 2>&1
		echo 'sudo ./rsf.py $@' | sudo tee -a /usr/local/bin/routersploit >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-routersploit.txt /usr/share/applications/archsploit-routersploit.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/routersploit.md >/dev/null 2>&1
		loadstatus " [+] Installing Routersploit" "OK" "valid"
	else
		loadstatus " [+] Routersploit already installed" "OK" "valid"
	fi

	## Rtpflood
	## http://www.hackingexposedvoip.com/sec_tools.html
	## ------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/rtpflood.md" ];
	then
		cd /opt/rtpflood/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/rtpflood/rtpflood /usr/bin/rtpflood

		sudo cp /usr/share/archsploit-shortcuts/archsploit-rtpflood.txt /usr/share/applications/archsploit-rtpflood.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/rtpflood.md >/dev/null 2>&1
		loadstatus " [+] Installing Rtpflood" "OK" "valid"
	else
		loadstatus " [+] Rtpflood already installed" "OK" "valid"
	fi

	## Sfuzz
	## https://github.com/orgcandman/Simple-Fuzzer/
	## --------------------------------------------
	if [ ! -f "/etc/archsploit/packages/sfuzz.md" ];
	then
		cd /opt/sfuzz/
		sudo ./configure >/dev/null 2>&1
		sudo make >/dev/null 2>&1
		sudo make install >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-sfuzz.txt /usr/share/applications/archsploit-sfuzz.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/sfuzz.md >/dev/null 2>&1
		loadstatus " [+] Installing Sfuzz" "OK" "valid"
	else
		loadstatus " [+] Sfuzz already installed" "OK" "valid"
	fi

	## Shellnoob
	## https://github.com/reyammer/shellnoob/
	## --------------------------------------
	if [ ! -f "/etc/archsploit/packages/shellnoob.md" ];
	then
		sudo chmod +x /opt/shellnoob/shellnoob.py
		sudo ln -s /opt/shellnoob/shellnoob.py /usr/bin/shellnoob

		sudo cp /usr/share/archsploit-shortcuts/archsploit-shellnoob.txt /usr/share/applications/archsploit-shellnoob.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/shellnoob.md >/dev/null 2>&1
		loadstatus " [+] Installing Shellnoob" "OK" "valid"
	else
		loadstatus " [+] Shellnoob already installed" "OK" "valid"
	fi

	## SidGuesser
	## http://www.cqure.net/wp/tools/database/sidguesser/
	## --------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/sidguesser.md" ];
	then
		sudo chmod +x /opt/sidguesser/configure
		cd /opt/sidguesser/
		sudo ./configure >/dev/null 2>&1
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/sidguesser/sidguess /usr/bin/sidguess

		sudo cp /usr/share/archsploit-shortcuts/archsploit-sidguess.txt /usr/share/applications/archsploit-sidguess.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/sidguesser.md >/dev/null 2>&1
		loadstatus " [+] Installing SidGuesser" "OK" "valid"
	else
		loadstatus " [+] SidGuesser already installed" "OK" "valid"
	fi

	## SMTP User Enum
	## https://github.com/qashqao/smtp-user-enum/
	## ------------------------------------------
	if [ ! -f "/etc/archsploit/packages/smtp-user-enum.md" ];
	then
		sudo chmod +x /opt/smtp-user-enum/smtp-user-enum.pl
		sudo ln -s /opt/smtp-user-enum/smtp-user-enum.pl /usr/bin/smtp-user-enum

		sudo cp /usr/share/archsploit-shortcuts/archsploit-smtp-user-enum.txt /usr/share/applications/archsploit-smtp-user-enum.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/smtp-user-enum.md >/dev/null 2>&1
		loadstatus " [+] Installing SMTP User Enum" "OK" "valid"
	else
		loadstatus " [+] SMTP User Enum already installed" "OK" "valid"
	fi

	## SniffJoke
	## https://github.com/vecna/sniffjoke/
	## -----------------------------------
	if [ ! -f "/etc/archsploit/packages/sniffjoke.md" ];
	then
		sudo mkdir -p /opt/sniffjoke/build
		cd /opt/sniffjoke/build/
		sudo cmake .. >/dev/null 2>&1
		sudo make >/dev/null 2>&1
		sudo make install >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-sniffjoke.txt /usr/share/applications/archsploit-sniffjoke.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/sniffjoke.md >/dev/null 2>&1
		loadstatus " [+] Installing SniffJoke" "OK" "valid"
	else
		loadstatus " [+] SniffJoke already installed" "OK" "valid"
	fi

	## SQLMap
	## https://github.com/sqlmapproject/sqlmap/
	## ----------------------------------------
	if [ ! -f "/etc/archsploit/packages/sqlmap.md" ];
	then
		sudo chmod +x /opt/sqlmap/sqlmap.py
		sudo ln -s /opt/sqlmap/sqlmap.py /usr/bin/sqlmap

		sudo cp /usr/share/archsploit-shortcuts/archsploit-sqlmap.txt /usr/share/applications/archsploit-sqlmap.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/sqlmap.md >/dev/null 2>&1
		loadstatus " [+] Installing SQLMap" "OK" "valid"
	else
		loadstatus " [+] SQLMap already installed" "OK" "valid"
	fi

	## SubBrute
	## https://github.com/TheRook/subbrute/
	## ------------------------------------
	if [ ! -f "/etc/archsploit/packages/subbrute.md" ];
	then
		sudo chmod +x /opt/subbrute/subbrute.py
		sudo ln -s /opt/subbrute/subbrute.py /usr/bin/subbrute

		sudo cp /usr/share/archsploit-shortcuts/archsploit-subbrute.txt /usr/share/applications/archsploit-subbrute.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/subbrute.md >/dev/null 2>&1
		loadstatus " [+] Installing SubBrute" "OK" "valid"
	else
		loadstatus " [+] SubBrute already installed" "OK" "valid"
	fi

	## TOR Browser
	## https://www.torproject.org/
	## ---------------------------
	if [ ! -f "/etc/archsploit/packages/tor-browser.md" ];
	then
		wget -O "/tmp/tor-browser-linux64-9.0.7_en-US.tar.xz" https://www.torproject.org/dist/torbrowser/9.0.7/tor-browser-linux64-9.0.7_en-US.tar.xz >/dev/null 2>&1
		if [ -f "/tmp/tor-browser-linux64-9.0.7_en-US.tar.xz" ];
		then
		    cd /tmp/
		    tar xf tor-browser-linux64-9.0.7_en-US.tar.xz
		    sudo mv /tmp/tor-browser_en-US /opt/tor-browser

			sudo cp /usr/share/archsploit-shortcuts/archsploit-tor-browser.txt /usr/share/applications/archsploit-tor-browser.desktop
			echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/tor-browser.md >/dev/null 2>&1
			loadstatus " [+] Installing TOR Browser" "OK" "valid"
		else
			loadstatus " [*] Installing TOR Browser" "NO" "issue"
		fi
	else
		loadstatus " [+] TOR Browser already installed" "OK" "valid"
	fi

	## Udpflood
	## http://www.hackingexposedvoip.com/sec_tools.html
	## ------------------------------------------------
	if [ ! -f "/etc/archsploit/packages/udpflood.md" ];
	then
		cd /opt/udpflood/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/udpflood/udpflood /usr/bin/udpflood

		sudo cp /usr/share/archsploit-shortcuts/archsploit-udpflood.txt /usr/share/applications/archsploit-udpflood.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/udpflood.md >/dev/null 2>&1
		loadstatus " [+] Installing Udpflood" "OK" "valid"
	else
		loadstatus " [+] Udpflood already installed" "OK" "valid"
	fi

	## Unicorn
	## https://github.com/trustedsec/unicorn/
	## --------------------------------------
	if [ ! -f "/etc/archsploit/packages/unicorn.md" ];
	then
		sudo chmod +x /opt/unicorn/unicorn.py
		sudo ln -s /opt/unicorn/unicorn.py /usr/bin/unicorn

		sudo cp /usr/share/archsploit-shortcuts/archsploit-unicorn.txt /usr/share/applications/archsploit-unicorn.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/unicorn.md >/dev/null 2>&1
		loadstatus " [+] Installing Unicorn" "OK" "valid"
	else
		loadstatus " [+] Unicorn already installed" "OK" "valid"
	fi

	## WebScarab
	## http://dawes.za.net/
	## --------------------
	if [ ! -f "/etc/archsploit/packages/webscarab.md" ];
	then
		sudo chmod +x /opt/webscarab/webscarab.jar
		sudo touch /usr/local/bin/webscarab
		sudo chmod +x /usr/local/bin/webscarab
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/webscarab >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/webscarab >/dev/null 2>&1
		echo 'cd /opt/webscarab/' | sudo tee -a /usr/local/bin/webscarab >/dev/null 2>&1
		echo 'sudo /usr/bin/java -jar /opt/webscarab/webscarab.jar' | sudo tee -a /usr/local/bin/webscarab >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-webscarab.txt /usr/share/applications/archsploit-webscarab.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/webscarab.md >/dev/null 2>&1
		loadstatus " [+] Installing WebScarab" "OK" "valid"
	else
		loadstatus " [+] WebScarab already installed" "OK" "valid"
	fi

	## WebShells
	## https://tools.kali.org/
	## -----------------------
	if [ ! -f "/etc/archsploit/packages/webshells.md" ];
	then
		sudo touch /usr/local/bin/webshells
		sudo chmod +x /usr/local/bin/webshells
		echo '#!/bin/bash' | sudo tee -a /usr/local/bin/webshells >/dev/null 2>&1
		echo 'clear' | sudo tee -a /usr/local/bin/webshells >/dev/null 2>&1
		echo 'tree /opt/webshells/' | sudo tee -a /usr/local/bin/webshells >/dev/null 2>&1

		sudo cp /usr/share/archsploit-shortcuts/archsploit-webshells.txt /usr/share/applications/archsploit-webshells.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/webshells.md >/dev/null 2>&1
		loadstatus " [+] Installing WebShells" "OK" "valid"
	else
		loadstatus " [+] WebShells already installed" "OK" "valid"
	fi

	## Xspy
	## https://github.com/mnp/xspy/
	## ----------------------------
	if [ ! -f "/etc/archsploit/packages/xspy.md" ];
	then
		cd /opt/xspy/
		sudo make >/dev/null 2>&1
		sudo ln -s /opt/xspy/xspy /usr/bin/xspy

		sudo cp /usr/share/archsploit-shortcuts/archsploit-xspy.txt /usr/share/applications/archsploit-xspy.desktop
		echo "Version: 1.0.1" | sudo tee /etc/archsploit/packages/xspy.md >/dev/null 2>&1
		loadstatus " [+] Installing Xspy" "OK" "valid"
	else
		loadstatus " [+] Xspy already installed" "OK" "valid"
	fi

	## Correct User Permissions
    ## ------------------------
    sudo chown -R $USER:users /opt/*
	loadstatus " [+] Correct User Permissions" "OK" "valid"

	## Final Notice
	## ------------
	echo
	echo -e "${color_5cb85c}ArchSploit Pentest tools installed successfully${color_revert}"
	sleep 10
}

## -------- ##
## Callback ##
## -------- ##

if [ "$#" -eq  "0" ]
then
	usage
else
	if [ "$1" == "--package" -o "$1" == "-p" ];
	then
		if [ "$2" == "sqlsecure" -o "$2" == "virtualbox" -o "$2" == "pentest" -o "$2" == "zaproxy" ];
		then
			clear
			sudo -v

			showbanner
			checkinternet
			warning

			if [ "$2" == "sqlsecure" ];
		    then
				sqlsecure
		    elif [ "$2" == "virtualbox" ];
		    then
				virtualbox
		    elif [ "$2" == "pentest" ];
		    then
		        pentest
			elif [ "$2" == "zaproxy" ];
		    then
		        zaproxy
			fi
		else
			usage
		fi
	elif [ "$1" == "--help" -o "$1" == "-h" ];
	then
		usage
	else
		usage
	fi
fi
